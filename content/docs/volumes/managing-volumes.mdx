import {Callout} from "nextra/components";

# Managing Volumes

After creating a volume provider, you can start creating volumes, which you then attach to boxes or mount them manually.

## Creating a volume

To create a volume, you can use the CLI:

```shell
dboxed volume create <volume-name> --volume-provider <volume-provider> --fs-size=<size>
```

`<volume-name>` is a name you can choose, it however has to be unique in your workspace. The name can later be used to
refer to the new volume, for example when calling additional CLI commands. `<volume-provider>` is the
volume provider, for example a [rustic provider](/docs/volumes/rustic-provider). The `<size>` as a size in human-readable
form, e.g. `1G` for one gigabyte.

## Listing existing volumes

To list the existing volumes, run:

```shell
dboxed volumes ls
```

This will show you the existing volumes and their state, for example, if they are locked and/or attached to boxes.

## Removing volumes

You can remove a volume with the following command:

```shell
dboxed volume rm <volume-name>
```

Please note that dboxed will prevent you from removing a volume that is locked and/or attached to a box. To release a
volume, stop the box (if any) that is using it. Then detach the volume if needed. Only then, dboxed will allow you to
remove the volume.

## Force unlocking a volume

If you're unable to properly shutdown/release a volume, for example because you lost the machine that locked the volume,
you can force-unlock the volume with:

```shell
dboxed volume force-unlock <volume-name>
```

<Callout type="warning">
    Please note that this will cause any attempts of backup to fail from that point on, so if the volume is still being used
    somewhere, you might end up loosing data.
</Callout>

## Managing volumes as system services

Future version of Dboxed will allow you to add and manage a dboxed volume as an automatically started systemd service.
